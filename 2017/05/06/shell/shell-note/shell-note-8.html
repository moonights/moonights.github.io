<hr>
<p>title: Shell-学习笔记系列：（八）Shell函数<br>date: 2017-06-02 17:13:15<br>tags: [Shell]</p>
<h2 id="categories-Shell"><a href="#categories-Shell" class="headerlink" title="categories: Shell"></a>categories: Shell</h2><p>Shell函数</p>
<p>shell可以自定义函数，然后自己调用。函数格式：</p>
<p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10</p>
<p>#function 关键字为可选项，参数也是可选<br>[ function ] funname [()]<br>{</p>
<p>  action;</p>
<p>  [return int;]</p>
<p>}</p>
<p>说明：</p>
<pre><code>可以带function fun()定义，也可以fun()定义，不带参数。
参数返回，可以显示加: return 返回，若不加，则返回最后一条指令结果。
</code></pre><p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10</p>
<p>#!/bin/bash</p>
<h1 id="author-菜鸟教程"><a href="#author-菜鸟教程" class="headerlink" title="author:菜鸟教程"></a>author:菜鸟教程</h1><h1 id="url-www-runoob-com"><a href="#url-www-runoob-com" class="headerlink" title="url:www.runoob.com"></a>url:<a href="http://www.runoob.com">www.runoob.com</a></h1><p>demoFun(){<br>    echo “这是我的第一个 shell 函数!”<br>}<br>echo “—–函数开始执行—–”<br>demoFun<br>echo “—–函数执行完毕—–”</p>
<p>含有返回值的函数：</p>
<p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15</p>
<p>#!/bin/bash</p>
<h1 id="author-菜鸟教程-1"><a href="#author-菜鸟教程-1" class="headerlink" title="author:菜鸟教程"></a>author:菜鸟教程</h1><h1 id="url-www-runoob-com-1"><a href="#url-www-runoob-com-1" class="headerlink" title="url:www.runoob.com"></a>url:<a href="http://www.runoob.com">www.runoob.com</a></h1><p>funWithReturn(){<br>    echo “这个函数会对输入的两个数字进行相加运算…”<br>    echo “输入第一个数字: “<br>    read aNum<br>    echo “输入第二个数字: “<br>    read anotherNum<br>    echo “两个数字分别为 $aNum 和 $anotherNum !”<br>    return $(($aNum+$anotherNum))<br>}<br>funWithReturn<br>echo “输入的两个数字之和为 $? !”</p>
<p>==调用函数返回值，用$?符号==，函数必须在被调用前定义。</p>
<pre><code>函数参数

在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 $n 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数…

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22



#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com
funWithParam(){
    echo &quot;第一个参数为 $1 !&quot;
    echo &quot;第二个参数为 $2 !&quot;
    echo &quot;第十个参数为 $10 !&quot;
    echo &quot;第十个参数为 ${10} !&quot;
    echo &quot;第十一个参数为 ${11} !&quot;
    echo &quot;参数总数有 $# 个!&quot;
    echo &quot;作为一个字符串输出所有参数 $* !&quot;
}
funWithParam 1 2 3 4 5 6 7 8 9 34 73
#输出结果：
第一个参数为 1 !
第二个参数为 2 !
第十个参数为 10 !
第十个参数为 34 !
第十一个参数为 73 !
参数总数有 11 个!
作为一个字符串输出所有参数 1 2 3 4 5 6 7 8 9 34 73 !

注意：\$10不能获取第10个参数，因为当n&gt;=10时候，要用\$(n)来获取参数。
</code></pre>